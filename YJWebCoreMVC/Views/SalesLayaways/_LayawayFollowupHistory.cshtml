<!--
  * Created by Manoj 24-OCT-2025
  * 11/06/2025  Manoj - Fixed DataTable  issue
-->

<div id="content-center" class="row">
    <div class="mt-4 white-box pos-rel" id="divDataTableReport">
        <div class="row dataTableReport">
            <table id="dataTableForLayawayFollowupHistory" class="dataTable display nowrap table" style="width:100%">
                <thead>
                    <tr>
                        <th>Date</th>
                        <th>Payment Method</th>
                        <th>Amount</th>
                        <th>Note</th>
                    </tr>
                </thead>
                <tbody>
                    @if (ViewBag.LayawayHistory != null &&
                     ViewBag.LayawayHistory.Rows != null &&
                     ViewBag.LayawayHistory.Rows.Count > 0)
                    {
                        foreach (System.Data.DataRow row in ViewBag.LayawayHistory.Rows)
                        {
                            <tr>
                                <td>@(row["DATE"] != DBNull.Value ? Convert.ToDateTime(row["DATE"]).ToString("MM-dd-yyyy") : "")</td>
                                <td>@row["METHOD"]</td>
                                <td>@row["AMOUNT"]</td>
                                <td>@row["NOTE"]</td>
                            </tr>
                        }
                    }

                </tbody>
            </table>
            <br>
        </div>
    </div>
</div>




<script type="text/javascript">


   @* function BindBagsGivenToPerson(InvoiceNo) {
        var url = '@Url.Action("GetListofJobsGiventoaPerson", "SalesShopControl", new { Area = "" })';

        var data = {
                   InvoiceNo: InvoiceNo
                };

        var jqxhr = $.post(url, data, function () { })
        .done(function (response) {
            var json;
            if (response instanceof Object)
                json = response;

            else
                json = $.parseJSON(response);

            var table = $('#dataTableForBagsGivenToPerson').DataTable();
            table.clear().draw();


            $("#dataTableForBagsGivenToPerson tbody").empty();

           /* for (var i = 0; i < json.length; i++) {
                table.row.add([
                    json[i].JOB_NO,
                    json[i].DATE ? json[i].DATE.split('T')[0] : '',
                    json[i].TIME,
                ]);
            }

            table.draw();*/
        .fail(function (jqxhr, textStatus, error) {
            var err = textStatus + ", " + error;
            console.log("GETBagsGivenToPerson Request Failed: " + err);
        });
    }*@


    $(document).ready(function () {

        var table = $('#dataTableForLayawayFollowupHistory').DataTable({
            dom: 'Blfrtip',
            searching: false,
            select: false,
            buttons: [],
            pageLength: 25,
            "aaSorting": []
        });
    });

</script>


